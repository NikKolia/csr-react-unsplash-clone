(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){"use strict";t.a={baseUrl:"https://api.unsplash.com",clientId:"588745fe0494eda1c54354b97d7885c5f94a97a359ce835605acf2df6163ba8c",clientSecret:"a61e2010de217db18110423b0e2defbe52175362520ec217a061226fea832ea0",redirectUri:"http://localhost:3000/auth",response_type:"code",scope:"public+read_user"}},15:function(e,t,n){"use strict";var a,r=n(12);!function(e){e.SEARCH_SUCCEED="@images/search_succeed",e.LOADING="@images/loading",e.SEARCH_ERROR="@images/search_error"}(a||(a={}));var c={items:[],totalPages:0,total:0,isLoading:!1},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.LOADING:case a.SEARCH_SUCCEED:return Object(r.a)({},e,t.payload);default:return e}},u=function(e){return e.images.items},o=function(e){return e.images.isLoading},s=n(10),l=n.n(s),p=n(16),f=n(18),m=n.n(f),d=n(11),h=m.a.create({baseURL:d.a.baseUrl,headers:{Authorization:"Client-ID ".concat(d.a.clientId)}}),b=function(){var e=Object(p.a)(l.a.mark(function e(t){var n,a,r,c,i,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{query:t.value,page:t.page}},"/search/photos",e.next=4,h.get("/search/photos",n);case 4:return a=e.sent,r=a.data,c=r.total_pages,i=r.total,u=r.results,e.abrupt("return",{totalPages:c,total:i,items:u});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(e){return{type:a.SEARCH_SUCCEED,payload:e}},O=function(e){return function(){var t=Object(p.a)(l.a.mark(function t(n){var c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:a.LOADING,payload:{isLoading:!0}}),t.next=3,b(e);case 3:c=t.sent,n(c?v(Object(r.a)({},c,{isLoading:!1})):{type:a.SEARCH_ERROR});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()};n.d(t,"a",function(){return i}),n.d(t,"d",function(){return O}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return o})},19:function(e,t,n){"use strict";var a,r=n(12);!function(e){e.SET_TOKEN="@auth/set_token"}(a||(a={}));var c={isAuthenticated:!1,token:""},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_TOKEN:var n=t.payload.access_token;return Object(r.a)({},e,{isAuthenticated:!0,token:n});default:return e}},u=function(e){return e.auth.isAuthenticated},o=n(10),s=n.n(o),l=n(16),p=n(18),f=n.n(p),m=n(11),d=function(){var e=Object(l.a)(s.a.mark(function e(t){var n,a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{client_id:m.a.clientId,client_secret:m.a.clientSecret,redirect_uri:"http://localhost:3000/auth",code:t,grant_type:"authorization_code"}},a=f.a.create(n),e.next=4,a.post("https://unsplash.com/oauth/token");case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h=function(e){return function(){var t=Object(l.a)(s.a.mark(function t(n){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:r=t.sent,n((c=r,{type:a.SET_TOKEN,payload:c}));case 4:case"end":return t.stop()}var c},t)}));return function(e){return t.apply(this,arguments)}}()};n.d(t,"a",function(){return i}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return h})},37:function(e,t){},41:function(e,t,n){"use strict";var a=n(17),r=n(15),c=n(19),i=(n(37),Object(a.c)({images:r.a,auth:c.a}));t.default=i},48:function(e,t,n){e.exports=n(87)},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(38),u=n.n(i),o=n(13),s=n(17),l=n(40),p=n(41),f=n(2),m=n(3),d=n(5),h=n(4),b=n(6),v=n(15),O=n(12),E=n(21),g=n.n(E),j=(n(77),function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={spans:0},n.imageRef=c.a.createRef(),n.setSpans=function(){var e=n.imageRef.current.clientHeight,t=Math.ceil(e/10);n.setState(function(e){return Object(O.a)({},e,{spans:t})})},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.imageRef.current.addEventListener("load",this.setSpans)}},{key:"componentWillUnmount",value:function(){this.imageRef.current.removeEventListener("load",this.setSpans)}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.className,a=this.state.spans;return c.a.createElement("div",{className:g()("grid-item",n),style:{gridRowEnd:"span ".concat(a)}},c.a.createElement("img",{src:t,alt:"",ref:this.imageRef}))}}]),t}(c.a.PureComponent)),y=(n(78),function(e){function t(){return Object(f.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.images,n=e.isLoading,a=e.title;return n?c.a.createElement("h2",null,"loading..."):c.a.createElement("div",{className:"grid"},c.a.createElement("h2",null,a),c.a.createElement("div",{className:"grid__content"},t.map(function(e){var t=e.description,n=e.urls,a=e.likes,r=e.id;return c.a.createElement(j,{className:"grid__item",id:r,description:t,url:n.small,likes:a})})))}}]),t}(c.a.PureComponent)),_=Object(o.b)(function(e){return{images:Object(v.b)(e),isLoading:Object(v.c)(e)}})(y),S=n(46);n(79);!function(e){e.TEXT="text",e.NUMBER="number",e.PASSWORD="password",e.PHONE="phone"}(a||(a={}));var C=function(e){function t(){return Object(f.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=Object(S.a)(e,["type"]);return console.log(n),c.a.createElement("div",{className:"field"},c.a.createElement("input",Object.assign({type:t},n,{className:"field__native-input"})))}}]),t}(c.a.PureComponent),N=(n(80),function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},n.onSubmit=function(e){e.preventDefault(),n.props.onSubmit(n.state.value)},n.changeHandler=function(e){var t=e.currentTarget.value;n.setState(function(e){return Object(O.a)({},e,{value:t})})},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.value,t=g()("search-form",this.props.className);return c.a.createElement("form",{onSubmit:this.onSubmit,className:t},c.a.createElement(C,{type:a.TEXT,value:e,placeholder:"Search",onChange:this.changeHandler}))}}]),t}(c.a.Component)),k=(n(81),Object(o.b)(null,function(e){return{onSearch:function(t){return e(Object(v.d)({value:t,page:1}))}}})(function(e){var t=e.onSearch,n=e.children;return c.a.createElement("nav",{className:"page-nav"},c.a.createElement("div",{className:"page-nav__container"},c.a.createElement(N,{className:"page-nav__search-form",onSubmit:t}),c.a.createElement("ul",{className:"page-nav__menu"},n)))})),w=n(19),R=n(11),A=function(e){function t(){return Object(f.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.search;if(-1!==e.indexOf("code=")){var t=e.slice(e.indexOf("=")+1);this.props.setToken(t)}}},{key:"componentWillReceiveProps",value:function(e,t){e.isAuthenticated&&this.props.history.push("/")}},{key:"render",value:function(){return r.createElement("div",null,r.createElement("a",{href:"https://unsplash.com/oauth/authorize?client_id=".concat(R.a.clientId,"&redirect_uri=").concat(R.a.redirectUri,"&response_type=").concat(R.a.response_type,"&scope=").concat(R.a.scope)},"authorize"))}}]),t}(r.PureComponent),T=Object(o.b)(function(e){return{isAuthenticated:Object(w.b)(e)}},function(e){return{setToken:function(t){return e(Object(w.c)(t))}}})(A),x=(n(82),n(92)),D=n(90),I=function(e){var t=e.path,n=e.title;return c.a.createElement("li",{className:"page-nav__item"},c.a.createElement(D.a,{to:t},c.a.createElement("span",null,n)))},L=n(23),P=function(e){function t(){return Object(f.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.createElement(L.a,null,r.createElement(L.b,{field:"email"}),r.createElement(L.b,{field:"password"}),r.createElement("button",{type:"submit"},"Submit"))}}]),t}(r.Component),H=Object(o.b)(null,function(e){return{onSubmit:function(t){return e(Object(v.d)({value:t,page:1}))}}})(function(){return r.createElement("div",{className:"sign-in"},r.createElement(P,{className:"sign-in__form"}))}),U=[{title:"Home",path:"/",exact:!0,props:{title:"Test"},Component:_},{title:"Auth",path:"/auth",props:{title:"Auth"},Component:function(e){return c.a.createElement(T,e)}},{title:"Product",path:"/products/:productId",exact:!0,props:{title:"Test"},Component:function(e){return console.log(e.match),c.a.createElement("div",null,"Product: ",e.match.params.productId)}},{title:"About",path:"/about",Component:function(){return c.a.createElement("h1",null,"Hello from about page")}},{title:"Sign In",path:"/sign-in",Component:function(){return c.a.createElement(H,null)}}],M=function(e){function t(){return Object(f.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"page-container"},c.a.createElement(k,null,U.map(function(e){var t=e.path,n=e.title;return c.a.createElement(I,{path:t,title:n})})),U.map(function(e){var t=e.path,n=e.exact,a=e.Component,r=e.props;return c.a.createElement(x.a,{path:t,exact:n,render:function(e){return console.log(e),c.a.createElement(a,Object.assign({},r,e))}})}))}}]),t}(c.a.Component),z=(n(86),n(91)),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,G=Object(s.e)(p.default,Object(s.d)(Object(s.a)(l.a),X()));u.a.render(c.a.createElement(o.a,{store:G},c.a.createElement(z.a,null,c.a.createElement(M,null))),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.17560842.chunk.js.map